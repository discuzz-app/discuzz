/*! For license information please see 474.889c5970.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdiscuz=self.webpackChunkdiscuz||[]).push([[474],{995:function(e,t,r){r.r(t),r.d(t,{CustomProvider:function(){return Oe},ReCaptchaEnterpriseProvider:function(){return Pe},ReCaptchaV3Provider:function(){return xe},getToken:function(){return Ce},initializeAppCheck:function(){return Te},onTokenChanged:function(){return De},setTokenAutoRefreshEnabled:function(){return je}});var n,o=r(7762),i=r(3433),a=r(4942),c=r(5861),u=r(5671),s=r(3144),f=r(7757),p=r(6085),l=r(2339),h=r(4766),d=r(2413),v=new Map,g={activated:!1,tokenObservers:[]},b={initialized:!1,enabled:!1};function k(e){return v.get(e)||g}function y(e,t){v.set(e,t)}function m(){return b}var w="https://content-firebaseappcheck.googleapis.com/v1beta",x=3e4,P=96e4,O=function(){function e(t,r,n,o,i){if((0,u.Z)(this,e),this.operation=t,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return(0,s.Z)(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=(0,c.Z)(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new h.BH,e.next=5,E(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new h.BH,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function E(e){return new Promise((function(t){setTimeout(t,e)}))}var A=(n={},(0,a.Z)(n,"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),(0,a.Z)(n,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),(0,a.Z)(n,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),(0,a.Z)(n,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),(0,a.Z)(n,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),(0,a.Z)(n,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,a.Z)(n,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,a.Z)(n,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,a.Z)(n,"recaptcha-error","ReCAPTCHA error."),(0,a.Z)(n,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),n),T=new h.LL("appCheck","AppCheck",A);function _(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function j(e){if(!k(e).activated)throw T.create("use-before-activation",{appName:e.name})}function C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function S(e){var t=Math.round(e/1e3),r=Math.floor(t/86400),n=Math.floor((t-3600*r*24)/3600),o=Math.floor((t-3600*r*24-3600*n)/60),i=t-3600*r*24-3600*n-60*o,a="";return r&&(a+=D(r)+"d:"),n&&(a+=D(n)+"h:"),a+=D(o)+"m:"+D(i)+"s"}function D(e){return 0===e?"00":e>=10?e.toString():"0"+e}function R(e,t){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(f.mark((function e(t,r){var n,o,i,a,c,u,s,p,l,h;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.body,i={"Content-Type":"application/json"},(a=r.getImmediate({optional:!0}))&&(i["X-Firebase-Client"]=a.getPlatformInfoString()),c={method:"POST",body:JSON.stringify(o),headers:i},e.prev=5,e.next=8,fetch(n,c);case 8:u=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),T.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 14:if(200===u.status){e.next=16;break}throw T.create("fetch-status-error",{httpStatus:u.status});case 16:return e.prev=16,e.next=19,u.json();case 19:s=e.sent,e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(16),T.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 25:if((p=s.ttl.match(/^([\d.]+)(s)$/))&&p[2]&&!isNaN(Number(p[1]))){e.next=28;break}throw T.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(s.ttl)});case 28:return l=1e3*Number(p[1]),h=Date.now(),e.abrupt("return",{token:s.attestationToken,expireTimeMillis:h+l,issuedAtTimeMillis:h});case 31:case"end":return e.stop()}}),e,null,[[5,11],[16,22]])})))).apply(this,arguments)}function M(e,t){var r=e.options,n=r.projectId,o=r.appId,i=r.apiKey;return{url:"".concat(w,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeRecaptchaToken","?key=").concat(i),body:{recaptcha_token:t}}}function Z(e,t){var r=e.options,n=r.projectId,o=r.appId,i=r.apiKey;return{url:"".concat(w,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(i),body:{recaptcha_enterprise_token:t}}}function z(e,t){var r=e.options,n=r.projectId,o=r.appId,i=r.apiKey;return{url:"".concat(w,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeDebugToken","?key=").concat(i),body:{debug_token:t}}}var N="firebase-app-check-store",K="debug-token",F=null;function B(){return F||(F=new Promise((function(e,t){try{var r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var r;t(T.create("storage-open",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(n){t(T.create("storage-open",{originalErrorMessage:n.message}))}})))}function L(e){return U(G(e))}function H(e){return $(K,e)}function q(){return U(K)}function $(e,t){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(f.mark((function e(t,r){var n,o,i,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return n=e.sent,o=n.transaction(N,"readwrite"),i=o.objectStore(N),a=i.put({compositeKey:t,value:r}),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){e()},o.onerror=function(e){var r;t(T.create("storage-set",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(f.mark((function e(t){var r,n,o,i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return r=e.sent,n=r.transaction(N,"readonly"),o=n.objectStore(N),i=o.get(t),e.abrupt("return",new Promise((function(e,t){i.onsuccess=function(t){var r=t.target.result;e(r?r.value:void 0)},n.onerror=function(e){var r;t(T.create("storage-get",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return"".concat(e.options.appId,"-").concat(e.name)}var J=new d.Yd("@firebase/app-check");function Y(){return(Y=(0,c.Z)(f.mark((function e(t){var r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.hl)()){e.next=12;break}return r=void 0,e.prev=2,e.next=5,L(t);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),J.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",r);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function V(e,t){return(0,h.hl)()?function(e,t){return $(G(e),t)}(e,t).catch((function(e){J.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function Q(){return(Q=(0,c.Z)(f.mark((function e(){var t,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,q();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return H(r=C()).catch((function(e){return J.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",r);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function ee(){return m().enabled}function te(){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=m()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){var e=(0,h.Rd)(),t=m();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var r=new h.BH;t.token=r,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(function(){return Q.apply(this,arguments)}())}}var oe={error:"UNKNOWN_ERROR"};function ie(e){return ae.apply(this,arguments)}function ae(){return ae=(0,c.Z)(f.mark((function e(t){var r,n,o,i,a,c,u,s,p,l=arguments;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]&&l[1],j(n=t.app),o=k(n),i=o.token,a=void 0,i){e.next=11;break}return e.next=9,o.cachedTokenPromise;case 9:(c=e.sent)&&pe(c)&&(i=c);case 11:if(r||!i||!pe(i)){e.next=13;break}return e.abrupt("return",{token:i.token});case 13:if(u=!1,!ee()){e.next=33;break}if(o.exchangeTokenPromise){e.next=26;break}return e.t0=R,e.t1=z,e.t2=n,e.next=21,te();case 21:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.platformLoggerProvider,o.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).then((function(e){return o.exchangeTokenPromise=void 0,e})),u=!0;case 26:return e.next=28,o.exchangeTokenPromise;case 28:return s=e.sent,e.next=31,V(n,s);case 31:return y(n,Object.assign(Object.assign({},o),{token:s})),e.abrupt("return",{token:s.token});case 33:return e.prev=33,o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then((function(e){return o.exchangeTokenPromise=void 0,e})),u=!0),e.next=37,o.exchangeTokenPromise;case 37:i=e.sent,e.next=44;break;case 40:e.prev=40,e.t6=e.catch(33),e.t6.code==="appCheck/".concat("throttled")?J.warn(e.t6.message):J.error(e.t6),a=e.t6;case 44:if(i){e.next=48;break}p=le(a),e.next=52;break;case 48:return p={token:i.token},y(n,Object.assign(Object.assign({},o),{token:i})),e.next=52,V(n,i);case 52:return u&&fe(n,p),e.abrupt("return",p);case 54:case"end":return e.stop()}}),e,null,[[33,40]])}))),ae.apply(this,arguments)}function ce(e,t,r,n){var o=e.app,a=k(o),c={next:r,error:n,type:t};if(y(o,Object.assign(Object.assign({},a),{tokenObservers:[].concat((0,i.Z)(a.tokenObservers),[c])})),a.token&&pe(a.token)){var u=a.token;Promise.resolve().then((function(){r({token:u.token}),se(e)})).catch((function(){}))}a.cachedTokenPromise.then((function(){return se(e)}))}function ue(e,t){var r=k(e),n=r.tokenObservers.filter((function(e){return e.next!==t}));0===n.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),y(e,Object.assign(Object.assign({},r),{tokenObservers:n}))}function se(e){var t=e.app,r=k(t),n=r.tokenRefresher;n||(n=function(e){var t=e.app;return new O((0,c.Z)(f.mark((function r(){var n;return f.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(k(t).token){r.next=7;break}return r.next=4,ie(e);case 4:n=r.sent,r.next=10;break;case 7:return r.next=9,ie(e,!0);case 9:n=r.sent;case 10:if(!n.error){r.next=12;break}throw n.error;case 12:case"end":return r.stop()}}),r)}))),(function(){return!0}),(function(){var e=k(t);if(e.token){var r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,n=e.token.expireTimeMillis-3e5;return r=Math.min(r,n),Math.max(0,r-Date.now())}return 0}),x,P)}(e),y(t,Object.assign(Object.assign({},r),{tokenRefresher:n}))),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function fe(e,t){var r,n=k(e).tokenObservers,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{"EXTERNAL"===a.type&&null!=t.error?a.error(t.error):a.next(t)}catch(c){}}}catch(u){i.e(u)}finally{i.f()}}function pe(e){return e.expireTimeMillis-Date.now()>0}function le(e){return{token:(t=oe,h.US.encodeString(JSON.stringify(t),!1)),error:e};var t}var he=function(){function e(t,r){(0,u.Z)(this,e),this.app=t,this.platformLoggerProvider=r}return(0,s.Z)(e,[{key:"_delete",value:function(){var e,t=k(this.app).tokenObservers,r=(0,o.Z)(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;ue(this.app,n.next)}}catch(i){r.e(i)}finally{r.f()}return Promise.resolve()}}]),e}();var de="https://www.google.com/recaptcha/api.js",ve="https://www.google.com/recaptcha/enterprise.js";function ge(e,t){var r=k(e),n=new h.BH;y(e,Object.assign(Object.assign({},r),{reCAPTCHAState:{initialized:n}}));var o=ye(e),i=_(!1);return i?ke(e,t,i,o,n):function(e){var t=document.createElement("script");t.src=de,t.onload=e,document.head.appendChild(t)}((function(){var r=_(!1);if(!r)throw new Error("no recaptcha");ke(e,t,r,o,n)})),n.promise}function be(e,t){var r=k(e),n=new h.BH;y(e,Object.assign(Object.assign({},r),{reCAPTCHAState:{initialized:n}}));var o=ye(e),i=_(!0);return i?ke(e,t,i,o,n):function(e){var t=document.createElement("script");t.src=ve,t.onload=e,document.head.appendChild(t)}((function(){var r=_(!0);if(!r)throw new Error("no recaptcha");ke(e,t,r,o,n)})),n.promise}function ke(e,t,r,n,o){r.ready((function(){!function(e,t,r,n){var o=r.render(n,{sitekey:t,size:"invisible"}),i=k(e);y(e,Object.assign(Object.assign({},i),{reCAPTCHAState:Object.assign(Object.assign({},i.reCAPTCHAState),{widgetId:o})}))}(e,t,r,n),o.resolve(r)}))}function ye(e){var t="fire_app_check_".concat(e.name),r=document.createElement("div");return r.id=t,r.style.display="none",document.body.appendChild(r),t}function me(e){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(f.mark((function e(t){var r,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),r=k(t).reCAPTCHAState,e.next=4,r.initialized.promise;case 4:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var o=k(t).reCAPTCHAState;n.ready((function(){e(n.execute(o.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=function(){function e(t){(0,u.Z)(this,e),this._siteKey=t,this._throttleData=null}return(0,s.Z)(e,[{key:"getToken",value:function(){var e=(0,c.Z)(f.mark((function e(){var t,r,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(this._throttleData),e.next=3,me(this._app).catch((function(e){throw T.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,R(M(this._app,r),this._platformLoggerProvider);case 7:n=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=Ee(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),T.create("throttled",{time:S(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=(0,p.qX)(e,"platform-logger"),ge(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Pe=function(){function e(t){(0,u.Z)(this,e),this._siteKey=t,this._throttleData=null}return(0,s.Z)(e,[{key:"getToken",value:function(){var e=(0,c.Z)(f.mark((function e(){var t,r,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(this._throttleData),e.next=3,me(this._app).catch((function(e){throw T.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,R(Z(this._app,r),this._platformLoggerProvider);case 7:n=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=Ee(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),T.create("throttled",{time:S(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=(0,p.qX)(e,"platform-logger"),be(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Oe=function(){function e(t){(0,u.Z)(this,e),this._customProviderOptions=t}return(0,s.Z)(e,[{key:"getToken",value:function(){var e=(0,c.Z)(f.mark((function e(){var t,r,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,r=(0,h.DO)(t.token),n=null!==r&&r<Date.now()&&r>0?1e3*r:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function Ee(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var r=t?t.backoffCount:0,n=(0,h.$s)(r,1e3,2);return{backoffCount:r+1,allowRequestsAfter:Date.now()+n,httpStatus:e}}function Ae(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw T.create("throttled",{time:S(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.Mq)(),t=arguments.length>1?arguments[1]:void 0;e=(0,h.m9)(e);var r=(0,p.qX)(e,"app-check");if(m().initialized||ne(),ee()&&te().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),r.isInitialized()){var n=r.getImmediate(),o=r.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return n;throw T.create("already-initialized",{appName:e.name})}var i=r.initialize({options:t});return _e(e,t.provider,t.isTokenAutoRefreshEnabled),k(e).isTokenAutoRefreshEnabled&&ce(i,"INTERNAL",(function(){})),i}function _e(e,t,r){var n=k(e),o=Object.assign(Object.assign({},n),{activated:!0});o.provider=t,o.cachedTokenPromise=function(e){return Y.apply(this,arguments)}(e).then((function(t){return t&&pe(t)&&(y(e,Object.assign(Object.assign({},k(e)),{token:t})),fe(e,{token:t.token})),t})),o.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,y(e,o),o.provider.initialize(e)}function je(e,t){var r=e.app,n=k(r);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(r,Object.assign(Object.assign({},n),{isTokenAutoRefreshEnabled:t}))}function Ce(e,t){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(f.mark((function e(t,r){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,r);case 2:if(!(n=e.sent).error){e.next=5;break}throw n.error;case 5:return e.abrupt("return",{token:n.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t,r,n){var o=function(){},i=function(){};return o=null!=t.next?t.next.bind(t):t,null!=t.error?i=t.error.bind(t):r&&(i=r),ce(e,"EXTERNAL",o,i),function(){return ue(e.app,o)}}var Re="app-check-internal";(0,p.Xd)(new l.wA("app-check",(function(e){return function(e,t){return new he(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider(Re).initialize()}))),(0,p.Xd)(new l.wA(Re,(function(e){return function(e){return{getToken:function(t){return ie(e,t)},addTokenListener:function(t){return ce(e,"INTERNAL",t)},removeTokenListener:function(t){return ue(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,p.KN)("@firebase/app-check","0.5.2")},118:function(e,t,r){function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[$]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===W}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||l(e)||h(e))}function a(e,t,r){void 0===r&&(r=!1),0===c(e)?(r?Object.keys:U)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function c(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:l(e)?2:h(e)?3:0}function u(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){return 2===c(e)?e.get(t):e[t]}function f(e,t,r){var n=c(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function l(e){return F&&e instanceof Map}function h(e){return B&&e instanceof Set}function d(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[$];for(var r=U(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),k(e)||o(e)||!i(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=b),Object.freeze(e),t&&a(e,(function(e,t){return g(t,!0)}),!0)),e}function b(){n(2)}function k(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=G[e];return t||n(18,e),t}function m(){return N}function w(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){P(e),e.p.forEach(E),e.p=null}function P(e){e===N&&(N=e.l)}function O(e){return N={p:[],l:N,h:e,m:!0,_:0}}function E(e){var t=e[$];0===t.i||1===t.i?t.j():t.O=!0}function A(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.g||y("ES5").S(t,e,o),o?(r[$].P&&(x(t),n(4)),i(e)&&(e=T(t,e),t.l||j(t,e)),t.u&&y("Patches").M(r[$],e,t.u,t.s)):e=T(t,r,[]),x(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function T(e,t,r){if(k(t))return t;var n=t[$];if(!n)return a(t,(function(o,i){return _(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return j(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=v(n.k):n.o;a(3===n.i?new Set(o):o,(function(t,i){return _(e,n,o,t,i,r)})),j(e,o,!1),r&&e.u&&y("Patches").R(n,r,e.u,e.s)}return n.o}function _(e,t,r,n,a,c){if(o(a)){var s=T(e,a,c&&t&&3!==t.i&&!u(t.D,n)?c.concat(n):void 0);if(f(r,n,s),!o(s))return;e.m=!1}if(i(a)&&!k(a)){if(!e.h.F&&e._<1)return;T(e,a),t&&t.A.l||j(e,a)}}function j(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&g(t,r)}function C(e,t){var r=e[$];return(r?d(r):e)[t]}function S(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function R(e){e.o||(e.o=v(e.t))}function I(e,t,r){var n=l(t)?y("MapSet").N(t,r):h(t)?y("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:m(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=J;r&&(o=[n],i=Y);var a=Proxy.revocable(o,i),c=a.revoke,u=a.proxy;return n.k=u,n.j=c,u}(t,r):y("ES5").J(t,r);return(r?r.A:m()).p.push(n),n}function M(e){return o(e)||n(22,e),function e(t){if(!i(t))return t;var r,n=t[$],o=c(t);if(n){if(!n.P&&(n.i<4||!y("ES5").K(n)))return n.t;n.I=!0,r=Z(t,o),n.I=!1}else r=Z(t,o);return a(r,(function(t,o){n&&s(n.t,t)===o||f(r,t,e(o))})),3===o?new Set(r):r}(e)}function Z(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}r.r(t),r.d(t,{useImmer:function(){return ne},useImmerReducer:function(){return oe}});var z,N,K="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),F="undefined"!=typeof Map,B="undefined"!=typeof Set,L="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=K?Symbol.for("immer-nothing"):((z={})["immer-nothing"]=!0,z),q=K?Symbol.for("immer-draftable"):"__$immer_draftable",$=K?Symbol.for("immer-state"):"__$immer_state",W=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return U(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},G={},J={get:function(e,t){if(t===$)return e;var r=d(e);if(!u(r,t))return function(e,t,r){var n,o=S(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!i(n)?n:n===C(e.t,t)?(R(e),e.o[t]=I(e.A.h,n,e)):n},has:function(e,t){return t in d(e)},ownKeys:function(e){return Reflect.ownKeys(d(e))},set:function(e,t,r){var n=S(d(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=C(d(e),t),i=null==o?void 0:o[$];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(p(r,o)&&(void 0!==r||u(e.t,t)))return!0;R(e),D(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,R(e),D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=d(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},Y={};a(J,(function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Y.deleteProperty=function(e,t){return J.deleteProperty.call(this,e[0],t)},Y.set=function(e,t,r){return J.set.call(this,e[0],t,r,e[0])};var V=function(){function e(e){var t=this;this.g=L,this.F=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var a=r;r=e;var c=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return c.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var u;if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),i(e)){var s=O(t),f=I(t,e,void 0),p=!0;try{u=r(f),p=!1}finally{p?x(s):P(s)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return w(s,o),A(e,s)}),(function(e){throw x(s),e})):(w(s,o),A(u,s))}if(!e||"object"!=typeof e){if((u=r(e))===H)return;return void 0===u&&(u=e),t.F&&g(u,!0),u}n(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||n(8),o(e)&&(e=M(e));var t=O(this),r=I(this,e,void 0);return r[$].C=!0,P(t),r},t.finishDraft=function(e,t){var r=(e&&e[$]).A;return w(r,t),A(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!L&&n(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=y("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Q=new V,ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),ee),re=r(7313);function ne(e){var t=(0,re.useState)((function(){return g("function"==typeof e?e():e,!0)})),r=t[1];return[t[0],(0,re.useCallback)((function(e){r("function"==typeof e?te(e):g(e))}),[])]}function oe(e,t,r){var n=(0,re.useMemo)((function(){return te(e)}),[e]);return(0,re.useReducer)(n,t,r)}}}]);